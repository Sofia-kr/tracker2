<Window x:Class="t.AddCategory"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:t"
        mc:Ignorable="d"
        Title="Додати категорію" Height="800" Width="1080"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="#F5F5F5">

    <Grid Background="#FFF5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="#4A90E2" Padding="20">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="btnBack" Content="←" 
                        Width="40" Height="40" 
                        Background="Transparent" BorderBrush="Transparent"
                        Foreground="White" FontSize="20"
                        Click="btnBack_Click"
                        Margin="0,0,20,0"/>
                <TextBlock x:Name="windowTitle" 
                          FontSize="28" FontWeight="Bold" 
                          Foreground="White" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Основне вміст -->
        <Grid Grid.Row="1" Margin="30">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1.5*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Ліва частина - налаштування -->
            <StackPanel Grid.Column="0" Margin="0,0,20,0">

                <!-- Вибір типу категорії -->
                <GroupBox Header="Тип категорії" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,20">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <RadioButton x:Name="rbExpenses" Content="Витрати" 
                                    GroupName="CategoryType" 
                                    FontSize="14" Margin="0,0,20,0"
                                    IsChecked="True" Checked="CategoryType_Checked"/>
                        <RadioButton x:Name="rbIncome" Content="Доходи" 
                                    GroupName="CategoryType" 
                                    FontSize="14" Checked="CategoryType_Checked"/>
                    </StackPanel>
                </GroupBox>

                <!-- Назва категорії -->
                <GroupBox Header="Назва категорії" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,20">
                    <StackPanel Margin="10">
                        <TextBox x:Name="txtCategoryName" 
                                MaxLength="13" 
                                FontSize="14" 
                                Height="35" 
                                Margin="0,0,0,5"
                                TextChanged="txtCategoryName_TextChanged"
                                PreviewTextInput="txtCategoryName_PreviewTextInput"/>
                        <TextBlock x:Name="lblCharCount" 
                                  Text="Залишилось символів: 13" 
                                  FontSize="12" 
                                  Foreground="Gray"
                                  HorizontalAlignment="Right"/>
                    </StackPanel>
                </GroupBox>

                <!-- Управління категоріями -->
                <GroupBox Header="Управління категоріями" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,20">
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <Button x:Name="btnEditCategory" 
                               Content="Редагувати" 
                               Width="120" Height="35" 
                               Margin="0,0,10,0"
                               Click="btnEditCategory_Click"
                               Background="#4A90E2" Foreground="White"/>
                        <Button x:Name="btnDeleteCategory" 
                               Content="Видалити" 
                               Width="120" Height="35"
                               Click="btnDeleteCategory_Click"
                               Background="#E74C3C" Foreground="White"/>
                    </StackPanel>
                </GroupBox>

                <!-- Інформація -->
                <Border Background="#FFEAF7FF" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="❗ Обмеження:" 
                                  FontSize="14" FontWeight="Bold" 
                                  Margin="0,0,0,5"/>
                        <TextBlock Text="• Максимум 12 категорій на форму" 
                                  FontSize="13" Margin="0,2"/>
                        <TextBlock Text="• Максимум 13 символів для назви" 
                                  FontSize="13" Margin="0,2"/>
                        <TextBlock x:Name="lblCategoryCount" 
                                  Text="Поточні категорії: 0/12" 
                                  FontSize="13" FontWeight="Bold" 
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Права частина - іконки -->
            <StackPanel Grid.Column="1">
                <GroupBox Header="Оберіть іконку" FontSize="16" FontWeight="SemiBold">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Height="400">
                        <UniformGrid x:Name="iconGrid" Columns="3" Margin="10">
                            <!-- Іконки будуть додані динамічно -->
                        </UniformGrid>
                    </ScrollViewer>
                </GroupBox>

                <Border x:Name="selectedIconBorder" 
                       Background="#FFEDF7FF" 
                       CornerRadius="5" 
                       Padding="15" 
                       Margin="0,20,0,0"
                       Visibility="Collapsed">
                    <StackPanel>
                        <TextBlock Text="Обрана іконка:" 
                                  FontSize="14" FontWeight="Bold" 
                                  Margin="0,0,0,10"/>
                        <Image x:Name="selectedIconImage" 
                              Width="50" Height="50" 
                              HorizontalAlignment="Left"/>
                        <TextBlock x:Name="selectedIconName" 
                                  FontSize="12" 
                                  Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>

        <!-- Кнопки дій -->
        <Border Grid.Row="2" Background="#EEEEEE" Padding="20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="btnCancel" 
                       Content="Скасувати" 
                       Width="120" Height="40" 
                       Margin="0,0,15,0"
                       Click="btnCancel_Click"
                       Background="#95A5A6" Foreground="White"/>
                <Button x:Name="btnSave" 
                       Content="Зберегти" 
                       Width="120" Height="40"
                       Click="btnSave_Click"
                       Background="#27AE60" Foreground="White"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>